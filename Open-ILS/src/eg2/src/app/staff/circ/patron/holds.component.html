

<ul ngbNav #holdsNav="ngbNav" class="nav-tabs" [keyboard]="true" [roles]="false" role="tablist">

  <li role="presentation" ngbNavItem>
    <a role="tab" ngbNavLink i18n>Open Hold Requests</a>
    <ng-template ngbNavContent>
      <eg-holds-grid 
        printTemplate="holds_for_patron"
        persistKey="circ.patron.holds"
        (placeHoldRequested)="newHold()"
        [hideHoldsCount]="true"
        [patronFocused]="true"
        [noLoadProgress]="true"
        [showPlaceHoldButton]="true"
        [hidePickupLibFilter]="true"
        [defaultSort]="[{name:'request_time',dir:'asc'}]"
        [patronId]="context.summary.patron.id()"></eg-holds-grid>
    </ng-template>
  </li>

  <li role="presentation" ngbNavItem>
    <a role="tab" ngbNavLink i18n>Recently Canceled Holds</a>
    <ng-template ngbNavContent>
      <eg-holds-grid 
        printTemplate="holds_for_patron"
        persistKey="circ.patron.holds"
        [hideHoldsCount]="true"
        [patronFocused]="true"
        [noLoadProgress]="true"
        [hidePickupLibFilter]="true"
        [showRecentlyCanceled]="true"
        [defaultSort]="[{name:'cancel_time',dir:'desc'}]"
        [patronId]="context.summary.patron.id()"></eg-holds-grid>
    </ng-template>
  </li>
</ul>

<ng-container *ngIf="context.summary">
  <div [ngbNavOutlet]="holdsNav"></div>
</ng-container>
